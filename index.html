<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Matemática - 4º Ano Fundamental (Parcial B2 - Para Desenhar)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: auto;
        }
        h1, h2 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 20px;
        }
        .header-info {
            font-size: 0.9em;
            text-align: right;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .question-section {
            margin-bottom: 30px;
            border-bottom: 1px dashed #ccc;
            padding-bottom: 20px;
        }
        .question-section:last-child {
            border-bottom: none;
        }
        .question {
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.5;
        }
        .question p {
            margin: 5px 0;
        }
        /* Estilo para o espaço de desenho com fundo quadriculado */
        .drawing-space {
            width: 100%;
            height: 250px; /* Altura generosa para o desenho */
            border: 1px dashed #999;
            background-color: #fff; /* Fundo branco */
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10"><rect fill="none" x="0" y="0" width="10" height="10"/><path stroke="#ccc" d="M0 1h10M1 0v10"/></svg>'); /* Fundo quadriculado */
            background-size: 10px 10px; /* Tamanho da grade */
            margin: 15px auto;
            box-sizing: border-box;
        }
        .question input,
        .question textarea { /* Estilo para textarea (cálculos) */
            width: calc(100% - 20px);
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .question textarea {
            min-height: 100px; /* Altura grande para cálculos */
            resize: vertical; /* Permite redimensionar verticalmente */
        }
        .submit-btn {
            background-color: #28a745;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            display: block;
            margin: 20px auto 0;
        }
        .submit-btn:hover {
            background-color: #218838;
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        .feedback.correct { background-color: #d4edda; color: #155724; border-color: #c3e6cb; }
        .feedback.incorrect { background-color: #f8d7da; color: #721c24; border-color: #f5c6cb; }
        .feedback.empty { background-color: #fff3cd; color: #856404; border-color: #ffeeba; }
        .feedback p { margin: 0; }
        .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 0.9em;
            color: #777;
        }
        .sub-question {
            margin-left: 20px;
            margin-top: 10px;
        }
    </style>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>
<body>
    <div class="container">
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="https://via.placeholder.com/100x50?text=LOGO+MARISTA" alt="Logo Colégio Marista de Brasília" style="max-width: 100px; display: inline-block; vertical-align: middle; margin-right: 10px;">
            <h1 style="display: inline-block; vertical-align: middle;">COLÉGIO MARISTA DE BRASÍLIA</h1>
        </div>
        <div class="header-info">
            <p>Educação Infantil e Ensino Fundamental</p>
            <p>MATEMÁTICA - 4.º ANO</p>
            <p>Professor(a): ___________________</p>
            <p>Componente Curricular: MATEMÁTICA</p>
            <p>Data: ___ / ___ / ___</p>
        </div>

        <h2 style="text-align: center; margin-top: 30px;">RETOMADA DE CONTEÚDO</h2>

        <form id="mathQuizB2New">
            <div class="question-section">
                <p><strong>1) Os alunos do 4º ano votaram nos seus esportes favoritos. Com base nos dados abaixo, desenhe um gráfico de barras no espaço indicado e depois responda.</strong></p>
                <p>Dados: Futebol: 15 votos, Basquete: 10 votos, Natação: 8 votos, Vôlei: 12 votos.</p>
                <div class="drawing-space">
                </div>
                <div class="sub-question">
                    <p>A) Qual o esporte mais votado?</p>
                    <label for="q1a">Resposta:</label>
                    <input type="text" id="q1a" name="q1a">
                    <div id="feedback1a" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Quantos votos a natação recebeu a menos que o futebol?</p>
                    <label for="q1b_calc">Cálculo:</label>
                    <textarea id="q1b_calc" name="q1b_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q1b">Resposta:</label>
                    <input type="number" id="q1b" name="q1b">
                    <div id="feedback1b" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>C) Quantos alunos participaram dessa votação no total?</p>
                    <label for="q1c_calc">Cálculo:</label>
                    <textarea id="q1c_calc" name="q1c_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q1c">Resposta:</label>
                    <input type="number" id="q1c" name="q1c">
                    <div id="feedback1c" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>2) Uma horta comunitária será dividida em canteiros na malha quadriculada. Desenhe os canteiros conforme as descrições e depois calcule suas áreas.</strong></p>
                <p>Canteiro 1: Desenhe um retângulo de 5 unidades de largura por 4 unidades de altura.</p>
                <p>Canteiro 2: Desenhe uma forma de 'L' composta por 10 quadradinhos (ex: um quadrado 4x4 com 6 quadradinhos de um canto removidos).</p>
                <div class="drawing-space">
                </div>
                <div class="sub-question">
                    <p>A) Se a unidade de medida de área é um quadradinho, qual a área de cada canteiro?</p>
                    <p>Canteiro 1:</p>
                    <label for="q2a_c1">Resposta:</label>
                    <input type="number" id="q2a_c1" name="q2a_c1">
                    <div id="feedback2a_c1" class="feedback"></div>
                    <p>Canteiro 2:</p>
                    <label for="q2a_c2">Resposta:</label>
                    <input type="number" id="q2a_c2" name="q2a_c2">
                    <div id="feedback2a_c2" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Qual o perímetro do Canteiro 1?</p>
                    <label for="q2b_calc">Cálculo:</label>
                    <textarea id="q2b_calc" name="q2b_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q2b">Resposta:</label>
                    <input type="number" id="q2b" name="q2b">
                    <div id="feedback2b" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>3) Desenhe um triângulo retângulo em uma malha quadriculada, com base de 6 unidades e altura de 4 unidades.</strong></p>
                <div class="drawing-space">
                </div>
                <div class="sub-question">
                    <p>A) Se a unidade de medida de área é um quadradinho (1 cm²), qual a área desse triângulo?</p>
                    <label for="q3a">Resposta:</label>
                    <input type="number" id="q3a" name="q3a"> cm²
                    <div id="feedback3a" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Se a área de um quadrado fosse 25 cm², qual seria a medida do lado desse quadrado?</p>
                    <label for="q3b">Resposta:</label>
                    <input type="number" id="q3b" name="q3b"> cm
                    <div id="feedback3b" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>4) Uma corda mede 5 metros e 75 centímetros.</strong></p>
                <div class="sub-question">
                    <p>A) Quantos centímetros tem essa corda no total?</p>
                    <label for="q4a_calc">Cálculo:</label>
                    <textarea id="q4a_calc" name="q4a_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q4a">Resposta:</label>
                    <input type="number" id="q4a" name="q4a"> cm
                    <div id="feedback4a" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Se eu usar 1 metro e 20 centímetros dessa corda, quantos centímetros ainda sobram?</p>
                    <label for="q4b_calc">Cálculo:</label>
                    <textarea id="q4b_calc" name="q4b_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q4b">Resposta:</label>
                    <input type="number" id="q4b" name="q4b"> cm
                    <div id="feedback4b" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>5) Um caminhão transporta pacotes de açúcar. Cada pacote pesa 1 quilograma e 500 gramas.</strong></p>
                <div class="sub-question">
                    <p>A) Quantos gramas pesa cada pacote de açúcar?</p>
                    <label for="q5a">Resposta:</label>
                    <input type="number" id="q5a" name="q5a"> g
                    <div id="feedback5a" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Se o caminhão transporta 5 pacotes, quantos gramas de açúcar ele leva no total?</p>
                    <label for="q5b_calc">Cálculo:</label>
                    <textarea id="q5b_calc" name="q5b_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q5b">Resposta:</label>
                    <input type="number" id="q5b" name="q5b"> g
                    <div id="feedback5b" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>6) Uma piscina tem capacidade para 1000 litros de água. Ela está com 750 litros.</strong></p>
                <div class="sub-question">
                    <p>A) Quantos litros de água faltam para a piscina ficar cheia?</p>
                    <label for="q6a_calc">Cálculo:</label>
                    <textarea id="q6a_calc" name="q6a_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q6a">Resposta:</label>
                    <input type="number" id="q6a" name="q6a"> litros
                    <div id="feedback6a" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Se cada balde tem capacidade para 10 litros, quantos baldes seriam necessários para encher o que falta na piscina?</p>
                    <label for="q6b_calc">Cálculo:</label>
                    <textarea id="q6b_calc" name="q6b_calc" placeholder="Escreva seu cálculo aqui"></textarea>
                    <label for="q6b">Resposta:</label>
                    <input type="number" id="q6b" name="q6b"> baldes
                    <div id="feedback6b" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>7) Observe as descrições de figuras geométricas espaciais e escreva o nome de cada uma.</strong></p>
                <div class="sub-question">
                    <p>A) É um sólido com todas as faces quadradas e iguais.</p>
                    <label for="q7a">Nome:</label>
                    <input type="text" id="q7a" name="q7a">
                    <div id="feedback7a" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>B) Tem uma base circular e um corpo que se afina até um vértice (ponta), como um chapéu de aniversário.</p>
                    <label for="q7b">Nome:</label>
                    <input type="text" id="q7b" name="q7b">
                    <div id="feedback7b" class="feedback"></div>
                </div>
                <div class="sub-question">
                    <p>C) Tem duas bases circulares e um corpo arredondado, como uma lata de refrigerante.</p>
                    <label for="q7c">Nome:</label>
                    <input type="text" id="q7c" name="q7c">
                    <div id="feedback7c" class="feedback"></div>
                </div>
            </div>

            <div class="question-section">
                <p><strong>8) Desenhe a planificação de um cilindro.</strong></p>
                <div class="drawing-space">
                </div>
                <div class="sub-question">
                    <p>A) Quais figuras planas formam a planificação de um cilindro?</p>
                    <label for="q8a">Resposta:</label>
                    <input type="text" id="q8a" name="q8a">
                    <div id="feedback8a" class="feedback"></div>
                </div>
            </div>

            <button type="submit" class="submit-btn">Verificar Respostas</button>
        </form>

        <div class="footer">
            <p>Conteúdo baseado no documento "ORIENTADOR DE ESTUDOS DAS PARCIAIS - 4.º ANO - 2.º TRIMESTRE" do Colégio Marista de Brasília e exemplos de provas.</p>
            <p>Para mais materiais, consulte o site oficial do Colégio Marista de Brasília.</p>
            <p>Colégio Marista de Brasília - SGAS 609, conjunto A - L2 Sul, (61) 3442-9400</p>
        </div>
    </div>

    <script>
        document.getElementById('mathQuizB2New').addEventListener('submit', function(event) {
            event.preventDefault(); // Evita o recarregamento da página

            // Respostas corretas (AJUSTAR SE ALTERAR DADOS DAS QUESTÕES)
            const answers = {
                // Questão 1 (Gráfico Esportes) - Dados: Futebol: 15, Basquete: 10, Natação: 8, Vôlei: 12
                q1a: "futebol",
                q1b: 7, // 15 - 8 = 7
                q1c: 45, // 15 + 10 + 8 + 12 = 45

                // Questão 2 (Canteiros na Malha) - Canteiro 1: 5x4; Canteiro 2: L-shape de 10 quadrados
                q2a_c1: 20, // 5 * 4 = 20
                q2a_c2: 10,
                q2b: 18, // Perímetro do Canteiro 1 (5x4): 2*(5+4) = 2*9 = 18

                // Questão 3 (Triângulo Retângulo e Quadrado) - Triângulo: base 6, altura 4; Quadrado: área 25
                q3a: 12, // (6 * 4) / 2 = 24 / 2 = 12
                q3b: 5, // Lado do quadrado cuja área é 25: 5 * 5 = 25

                // Questão 4 (Comprimento da Corda) - 5m 75cm; usa 1m 20cm
                q4a: 575, // 5*100 + 75 = 575
                q4b: 455, // 575 - (1*100 + 20) = 575 - 120 = 455

                // Questão 5 (Massa de Pacotes) - 1kg 500g; 5 pacotes
                q5a: 1500, // 1*1000 + 500 = 1500
                q5b: 7500, // 1500 * 5 = 7500

                // Questão 6 (Capacidade da Piscina) - 1000L; 750L na piscina; balde 10L
                q6a: 250, // 1000 - 750 = 250
                q6b: 25, // 250 / 10 = 25

                // Questão 7 (Reconhecimento de Figuras Espaciais)
                q7a: "cubo",
                q7b: "cone",
                q7c: "cilindro",

                // Questão 8 (Planificação de Cilindro)
                q8a: "dois círculos e um retângulo", // Ou "círculos e um retângulo" ou "retângulo e dois círculos"
            };

            // Loop para verificar as respostas
            for (const key in answers) {
                if (answers.hasOwnProperty(key)) {
                    const inputElement = document.getElementById(key);
                    const feedbackDiv = document.getElementById(`feedback${key}`);

                    if (!inputElement || !feedbackDiv) {
                        continue; // Pula elementos de cálculo que não têm feedback direto
                    }

                    let userAnswer;
                    if (inputElement.type === "number") {
                        userAnswer = inputElement.value === '' ? null : parseFloat(inputElement.value);
                    } else { // type="text"
                        userAnswer = inputElement.value.trim().toLowerCase();
                    }

                    const correctAnswer = String(answers
